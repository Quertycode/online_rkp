# üìä –ü–û–ö–†–´–¢–ò–ï –î–ê–ù–ù–´–• –ü–ê–†–°–ï–†–û–ú

## ‚úÖ –ß—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä `load_html_parser.py`

### 1. **–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–µ**
- ‚úÖ **ID –∑–∞–¥–∞—á–∏** (`problem_id`) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑ –°–î–ê–ú –ì–ò–ê
- ‚úÖ **–£—Å–ª–æ–≤–∏–µ** (`condition_text`) - –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —É—Å–ª–æ–≤–∏—è —Å inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ** (`solution_text`) - –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Ä–µ—à–µ–Ω–∏—è —Å inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ **–û—Ç–≤–µ—Ç** (`answer`) - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É
- ‚úÖ **URL** (`url`) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É –Ω–∞ —Å–∞–π—Ç–µ –°–î–ê–ú –ì–ò–ê

### 2. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
- ‚úÖ **–£—Å–ª–æ–≤–∏–µ**: –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —É—Å–ª–æ–≤–∏—è —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è inline –≤ —Ç–µ–∫—Å—Ç
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ä–µ—à–µ–Ω–∏—è —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è inline –≤ —Ç–µ–∫—Å—Ç
- ‚úÖ **–§–æ—Ä–º–∞—Ç**: SVG, PNG, JPG (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É)
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: `image_tasksdb/{subject}/{problem_id}/condition_0.svg`, `solution_0.svg` –∏ —Ç.–¥.
- ‚úÖ **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç –∫–∞–∫ `![img](http://localhost:3001/tasks/images/...)`

### 3. **–¢–µ–º–∞ (–ó–∞–¥–∞–Ω–∏–µ)**
- ‚úÖ **–ù–æ–º–µ—Ä —Ç–µ–º—ã** (`topic_number`) - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ HTML (–Ω–∞–ø—Ä–∏–º–µ—Ä "–¢–∏–ø 4 ‚Ññ 506304" ‚Üí "4")
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã** (`topic_name`) - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∫ "–ó–∞–¥–∞–Ω–∏–µ {–Ω–æ–º–µ—Ä}" –∏–ª–∏ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ **–°–≤—è–∑—å** (`topic_id`) - –∑–∞–¥–∞—á–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å —Ç–µ–º–æ–π —á–µ—Ä–µ–∑ `topic_id`
- ‚úÖ **–õ–∏–Ω–∏—è** (`line`) - –Ω–æ–º–µ—Ä —Ç–µ–º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –ª–∏–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π

### 4. **–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏** ‚≠ê –ù–û–í–û–ï
- ‚úÖ **–°–ø–∏—Å–æ–∫ ID** - –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ –±–ª–æ–∫–∞ `<div class="minor">` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–¥–∞—á–∏
- ‚úÖ **–°–≤—è–∑–∏** - —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `problem_analogs` (–¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–≤—è–∑–∏)
- ‚úÖ **–£–º–Ω–∞—è —Å–≤—è–∑—å** - —Å–≤—è–∑—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∑–∞–¥–∞—á–∞ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ –ë–î

### 5. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏** ‚≠ê –ù–û–í–û–ï
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å** - –∑–∞–¥–∞—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ –≤—Å–µ–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Å–≤–æ–µ–π —Ç–µ–º—ã
- ‚úÖ **–ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã** - –∑–∞–¥–∞—á–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤—è–∑–∏ —Å–æ –≤—Å–µ–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ç–µ–º—ã

### 6. **–ü—Ä–µ–¥–º–µ—Ç**
- ‚úÖ **–ö–æ–¥ –ø—Ä–µ–¥–º–µ—Ç–∞** (`code`) - mathb, bio, math, rus –∏ —Ç.–¥.
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ** (`name`) - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞
- ‚úÖ **–¢–∏–ø —ç–∫–∑–∞–º–µ–Ω–∞** (`exam_type`) - –û–ì–≠ –∏–ª–∏ –ï–ì–≠

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `problems`
```sql
- id (PK)
- subject_id (FK ‚Üí subjects)
- topic_id (FK ‚Üí topics, –º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
- problem_id (TEXT, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∏–∑ –°–î–ê–ú –ì–ò–ê)
- line (TEXT, –Ω–æ–º–µ—Ä —Ç–µ–º—ã/–ª–∏–Ω–∏–∏)
- condition_text (TEXT, —Å inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
- solution_text (TEXT, —Å inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
- answer (TEXT)
- url (TEXT)
- source (TEXT, 'sdamgia')
```

### –¢–∞–±–ª–∏—Ü–∞ `topics`
```sql
- id (PK)
- subject_id (FK ‚Üí subjects)
- topic_number (TEXT, –Ω–æ–º–µ—Ä —Ç–µ–º—ã)
- topic_name (TEXT, –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã)
- topic_line (TEXT, –ª–∏–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π)
```

### –¢–∞–±–ª–∏—Ü–∞ `problem_analogs` ‚≠ê –ù–û–í–û–ï
```sql
- id (PK)
- problem_id (FK ‚Üí problems)
- analog_problem_id (FK ‚Üí problems)
- UNIQUE(problem_id, analog_problem_id)
```

### –¢–∞–±–ª–∏—Ü–∞ `category_problems` ‚≠ê –ù–û–í–û–ï
```sql
- id (PK)
- category_id (FK ‚Üí categories)
- problem_id (FK ‚Üí problems)
- UNIQUE(category_id, problem_id)
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
cd server/scripts
py load_html_parser.py --subject mathb --exam-type oge --ids "506304,4612"
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏
2. –ü–∞—Ä—Å–∏—Ç—Å—è —É—Å–ª–æ–≤–∏–µ –∏ —Ä–µ—à–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. –°–∫–∞—á–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —Ç–µ–º—ã
5. –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑—è–º–∏

---

## üìä –ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–¥–∞—á–∞ 506304 (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ë–∞–∑–∞ –û–ì–≠):
```json
{
  "problem_id": "506304",
  "subject": "mathb",
  "topic_number": "4",
  "topic_name": "–ó–∞–¥–∞–Ω–∏–µ 4",
  "condition_text": "–ü–ª–æ—â–∞–¥—å —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ —Ñ–æ—Ä–º—É–ª–µ ![img](...) –≥–¥–µ ![img](...) ‚Äî –¥–ª–∏–Ω—ã —Å—Ç–æ—Ä–æ–Ω...",
  "solution_text": "–†–µ—à–µ–Ω–∏–µ. –ü–æ–¥—Å—Ç–∞–≤–∏–º –≤ —Ñ–æ—Ä–º—É–ª—É... ![img](...)",
  "answer": "10",
  "analogs": ["506305", "506306", "506307"],
  "categories": ["category_1", "category_2"]
}
```

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏**: –°–≤—è–∑—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –£–ñ–ï –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ –ë–î
   - –†–µ—à–µ–Ω–∏–µ: –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø–∞–∫–µ—Ç–∞–º–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--load-catalog` –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏

2. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –£–ñ–ï –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –ë–î
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `load_catalog.py` –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞

3. **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã**: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "–ó–∞–¥–∞–Ω–∏–µ {–Ω–æ–º–µ—Ä}"
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--load-catalog` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞

---

## üîÑ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ (—Ç–µ–º—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
py load_catalog.py --subject mathb --exam-type oge

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞—á–∏
py load_html_parser.py --subject mathb --exam-type oge --ids "506304,4612"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞—á–∏ (—Ç–µ–º—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
py load_html_parser.py --subject mathb --exam-type oge --ids "506304,4612"
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä—Å–µ—Ä –≤—ã–≤–æ–¥–∏—Ç:
```
OK: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 4, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö: 5)
```

–ì–¥–µ:
- **–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

---

## ‚úÖ –ß–¢–û –ó–ê–ì–†–£–ñ–ê–ï–¢–°–Ø –ü–û–õ–ù–û–°–¢–¨–Æ

- ‚úÖ –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏ (—Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è inline)
- ‚úÖ –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ (—Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è inline)
- ‚úÖ –û—Ç–≤–µ—Ç
- ‚úÖ –¢–µ–º–∞ (–Ω–æ–º–µ—Ä + –Ω–∞–∑–≤–∞–Ω–∏–µ)
- ‚úÖ –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Å–≤—è–∑–∏)
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ç–µ–º—ã)
- ‚úÖ –ü—Ä–µ–¥–º–µ—Ç
- ‚úÖ URL –∑–∞–¥–∞—á–∏

## ‚ùå –ß–¢–û –ù–ï –ó–ê–ì–†–£–ñ–ê–ï–¢–°–Ø

- ‚ùå –¢–µ—Å—Ç—ã (–Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
- ‚ùå PDF —Ñ–∞–π–ª—ã (—Ç–æ–ª—å–∫–æ URL, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)

---

## üéØ –ò–¢–û–ì–û

**–ü–∞—Ä—Å–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–¥–∞—á–µ –∏–∑ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –°–î–ê–ú –ì–ò–ê:**
- ‚úÖ –¢–µ–∫—Å—Ç —É—Å–ª–æ–≤–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (inline)
- ‚úÖ –û—Ç–≤–µ—Ç
- ‚úÖ –¢–µ–º—É
- ‚úÖ –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
- ‚úÖ –°–≤—è–∑–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

**–î–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `load_catalog.py`**


